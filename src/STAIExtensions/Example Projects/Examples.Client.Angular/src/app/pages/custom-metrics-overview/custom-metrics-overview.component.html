<shared-animated-header text="Custom Metrics Overview"></shared-animated-header>

<div class="chart-panel">
    <apx-chart
    [series]="chartOptions.series"
    [chart]="chartOptions.chart"
    [xaxis]="chartOptions.xaxis"
    [title]="chartOptions.title"
    [grid]="chartOptions.grid"
    #chart></apx-chart>
</div>


<div style="width: 100%; overflow: hidden; color: var(--secondary-color)">
    <h1 class="cyberpunk glitched">Last Custom Metrics ({{ (this.customMetricsOverviewView$ | async)?.lastCustomMetricItems?.length }} items)</h1>
</div>

<div class="last-items-panel">
    <ngx-table [configuration]="configuration"
               [data]="data"
               [columns]="columns">
        <ng-template let-row let-index="index">
        <td>
            <div style="display: flex; justify-content: center; align-items: center;">
                <shared-icon title="View Json Content" iconClass="far fa-eye" iconSet="font-awesome" addClass="view-json-icon" (click)="onViewJsonItemClick($event, index)"></shared-icon>
            </div>
        </td>
        <td>
            <span>{{ row.name }}</span>
        </td>
        <td>
            <span>{{ row.timeStamp }}</span>
        </td>
        <td>
            <span>{{ row.itemCount }}</span>
        </td>
        <td>
            <span>{{ row.operationName }}</span>
        </td>
        <td>
            <span>{{ row.cloudRoleInstance }}</span>
        </td>
        <td>
            <span>{{ row.cloudRoleName }}</span>
        </td>
        </ng-template>           
    </ngx-table>
</div>